<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://www.coinvestfolio.com/icon.svg" type="image/svg+xml">
    <title>CoinvestFolio</title>
    <meta name="description" content="Easily calculate your cryptocurrency profit and loss with our Crypto PNL Calculator. Supports both spot and future calculations.">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5897295133273451"
     crossorigin="anonymous"></script>
    <meta name="google-site-verification" content="WqVYzW8N3gkE6iEBnUzrkVRODWjX37RLIEHehfhdf5E" />
    <style>
        body {
            padding: 200px 0 50px 0;
            font-family: Arial, sans-serif;
            background-color: #000000;
            text-align: center;
        }

        header {
            color: #FFFFFF;
            font-size: 34px;
            margin-top: 0; /* 이 값을 0으로 설정 */
            margin-bottom: 0; /* 이 값을 0으로 설정 */
            font-weight: bold;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            background-color: #000000;
            text-align: center;
            height: 80px;
        }

        #logo {
            width: 200px; /* 로고의 크기를 조절합니다 */
            height: auto;
        }
                
       #languageSelect {
            width: 75px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            background-color: #242424;
            color: #FFFFFF;
            border: 3px solid #EE7E19;
            border-radius: 8px;
            text-align: center; 
            padding: 10px 10px; /* 위아래 패딩을 조절하고 좌우 패딩도 동일하게 설정합니다. */
            height: 45px; /* 필요한 경우 높이를 명시적으로 설정합니다. */
            margin-left: 0px;
            margin-right: 40px;
        }

        .dca-calculator {
            padding-top: 150px;
            background-color: #FFFFFF;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px 30px;
            border-radius: 12px;
            max-width: 450px;
            box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.1);
            margin: 0 auto; 
        }
        label, select, input[type="number"] {
            box-sizing: border-box;
        }
        label {
            display: block;
            text-align: left;
            margin-bottom: 10px;
            font-size: 18px;
            color: #000000;
            font-weight: bold;
            width: 100%;
        }
        select, input[type="number"] {
            width: 100%;
            padding: 14px;
            font-size: 18px;
            margin-bottom: 25px;
            border: 2px solid #ccc;
            border-radius: 8px;
        }
        select#sellingFeeSelect, input#sellingFee {
            margin-bottom: 40px;
        }
        button {
            width: 100%;
            padding: 16px;
            background-color: #EE7E19;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 22px;
            border-radius: 8px;
            margin-top: 5px;
            margin-bottom: 5px;
            font-weight: bold;
        }
        footer {
            margin-top: 50px;
            font-size: 18px;
            color: #888;
            font-weight: bold;
        }
        button:focus, input:focus, select:focus {
            outline: 2px solid #EE7E19;
        }
        .result {
            color: #FFFFFF;
            font-size: 22px;
            font-weight: bold;
            margin-top: 5px;
            margin-bottom: 5px;
        }
        
        @media (min-width: 481px) and (max-width: 768px) {
        .calculator {
            padding: 30px 40px;
            }
        }

        /* 데스크톱 장치 */
        @media (min-width: 769px) {
        .calculator {
            padding: 40px 50px;
            }
        }

        .content {
            display: none;
        }

        .content.active {
            display: block;
        }

       nav {
            height: 70px;
            background-color: #000000;
            overflow: hidden;
            position: fixed;
            top: 80px;
            width: 100%;
            z-index: 999;
            display: flex;
            justify-content: space-between; /* 이 부분을 수정 */
            align-items: center;
            padding: 0 20px;
            border-bottom: 2px solid #888888;
        }

        nav a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            line-height: 50px;
            vertical-align: middle;
        }

        .nav-menu a {
            margin-left: 10px; /* 메뉴 항목들 사이의 간격을 조절합니다 */
        }
        .nav-menu {
            display: flex; /* 수평으로 배열하기 위해 flex를 사용합니다 */
        }
        .nav-logo {
            display: flex;
            align-items: center;
            margin-right: 10px;
            line-height: 0;
        }
        .nav-logo a {
            display: flex;
            align-items: center;
        }
        .language-container {
            display: flex;
            align-items: center;
            margin-left: auto;
        }
        .left-container {
            display: flex;
            align-items: center;
            flex-grow: 1;
        }
        .calculator-title {
            text-align: center;
            color: #FFFFFF;
            font-size: 24px;
            font-weight: bold;
        }
        
    </style>
</head>
<body>
    <header>
        
    </header>

    <nav>
        <div class="left-container">
            <div class="nav-logo">
                <a href="https://www.coinvestfolio.com/">
                    <img src="https://www.coinvestfolio.com/logo.svg" alt="CoinvestFolio Logo" id="logo">
                </a>
            </div>
            <div class="nav-menu">
                <a href="https://www.coinvestfolio.com/">Spot Calculator</a>
                <a href="future-calculator">Future Calculator</a>
                <a href="dca-calculator">DCA Calculator</a>
            </div>
        </div>
        <div class="language-container">
            <select id="languageSelect" onchange="changeLanguage()">
                <option value="en">EN</option>
                <option value="kr">KR</option>
            </select>
        </div>
    </nav>

    <div class="calculator-title">
        <h2>DCA Calculator</h2>
    </div>

    

    <div class="dca-calculator"> 
    <label for="positionType">Position Type:</label>
    <select id="positionType">
        <option value="long">Long</option>
        <option value="short">Short</option>
    </select>

    <label for="leverageAmount">Leverage (e.g., 10 for 10x):</label>
    <input type="number" id="leverageAmount" placeholder="Enter leverage">

    <label for="investmentLeverage">Coin Quantity:</label>
    <input type="number" id="investmentLeverage" placeholder="Enter coin quantity">

    <label for="entryPrice">Entry Price ($):</label>
    <input type="number" id="entryPrice" placeholder="Enter entry price">

    <label for="exitPrice">Exit Price ($):</label>
    <input type="number" id="exitPrice" placeholder="Enter exit price">

    <button onclick="calculateLeverageProfitLoss()">Calculate</button>
    <button onclick="sharePNL()">Share My PNL</button>
    <p id="leverageResultDollar" class="result"></p>
    <p id="leverageResultPercent" class="result"></p>
</div>

    <footer>
        © 2023 Crypto PNL Calculator. All rights reserved.
    </footer>

    <script>

        function updateInputValue(inputId, value) {
            const inputElement = document.getElementById(inputId);
            if (value === "custom") {
                inputElement.style.display = "block";
            } else {
                inputElement.style.display = "none";
                inputElement.value = value;
            }
        }

        function sharePNL() {
            const futureResultDollar = document.getElementById('leverageResultDollar').innerText;
            const futureResultPercent = document.getElementById('leverageResultPercent').innerText;
            
            let shareText;
            shareText = futureResultDollar + '\n' + futureResultPercent;
            }
            
            // 현재 페이지의 URL 추가
            shareText += '\n\n' + window.location.href;
        
            copyToClipboard(shareText);
            alert('Your result and website link have been copied to the clipboard. Paste it wherever you like!');
        }
        }

        function copyToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
        
            try {
                document.execCommand('copy');
            } catch (err) {
                console.error('Failed to copy text: ', err);
            }
        
            document.body.removeChild(textArea);
        }
          
       function calculateLeverageProfitLoss() {
            const positionType = document.getElementById('positionType').value;
            const leverage = parseFloat(document.getElementById('leverageAmount').value);
            const investment = parseFloat(document.getElementById('investmentLeverage').value);
            const entryPrice = parseFloat(document.getElementById('entryPrice').value);
            const exitPrice = parseFloat(document.getElementById('exitPrice').value);
        
            let profitLossDollar;
            if (positionType === "long") {
                profitLossDollar = (exitPrice - entryPrice) * investment;
            } else { // short
                profitLossDollar = (entryPrice - exitPrice) * investment;
            }
        
            const IMR = 1 / leverage;
            const initialMargin = investment * entryPrice * IMR;
            const profitLossPercent = (profitLossDollar / initialMargin) * 100;
        
            const resultElementDollar = document.getElementById('leverageResultDollar');
            const resultElementPercent = document.getElementById('leverageResultPercent');
        
            resultElementDollar.innerText = `Profit/Loss ($): $${profitLossDollar.toFixed(2)}`;
            resultElementPercent.innerText = `ROE (%): ${profitLossPercent.toFixed(2)}%`;
           
            if (profitLossDollar < 0) {
            resultElementDollar.style.color = 'blue';
            resultElementPercent.style.color = 'blue';
            } else if (profitLossDollar > 0) {
                resultElementDollar.style.color = 'red';
                resultElementPercent.style.color = 'red';
            } else {
                resultElementDollar.style.color = '#FFFFFF';
                resultElementPercent.style.color = '#FFFFFF';
            }
        }

        // 언어별 텍스트 저장
        const languages = {
            en: {
                header: "CoinvestFolio",
                positionType: "Position Type:",
                long: "Long",
                short: "Short",
                leverage: "Leverage (e.g., 10 for 10x):",
                coinQuantity: "Coin Quantity:",
                entryPrice: "Entry Price ($):",
                exitPrice: "Exit Price ($):",
                calculate: "Calculate",
                sharePNL: "Share My PNL"
            },
            kr: {
                header: "코인베스트폴리오",
                positionType: "포지션 유형:",
                long: "롱",
                short: "숏",
                leverage: "레버리지 (예: 10은 10x):",
                coinQuantity: "코인 수량:",
                entryPrice: "진입 가격 ($):",
                exitPrice: "종료 가격 ($):",
                calculate: "계산하기",
                sharePNL: "PNL 공유하기"
            }
        };

        function changeLanguage() {
            const selectedLanguage = document.getElementById('languageSelect').value;
            const lang = languages[selectedLanguage];

            document.querySelector('header').innerText = lang.header;
            document.querySelector('label[for="positionType"]').innerText = lang.positionType;
            document.querySelector('option[value="long"]').innerText = lang.long;
            document.querySelector('option[value="short"]').innerText = lang.short;
            document.querySelector('label[for="leverageAmount"]').innerText = lang.leverage;
            document.querySelector('label[for="investmentLeverage"]').innerText = lang.coinQuantity;
            document.querySelector('label[for="entryPrice"]').innerText = lang.entryPrice;
            document.querySelector('label[for="exitPrice"]').innerText = lang.exitPrice;
            document.querySelectorAll('button[onclick="sharePNL()"]')[0].innerText = lang.sharePNL;
            document.querySelector('button[onclick="calculateLeverageProfitLoss()"]').innerText = lang.calculate;
        }


        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const sharedResult = urlParams.get('result');
            if (sharedResult) {
                document.getElementById('result').innerText = sharedResult;

                const profitLossValue = parseFloat(sharedResult.split('$')[1]);
                const resultElement = document.getElementById('result');
        
                if (profitLossValue < 0) {
                    resultElement.style.color = 'blue';
                } else if (profitLossValue > 0) {
                    resultElement.style.color = 'red';
                } else {
                    resultElement.style.color = '#FFFFFF';
                }
            } 
        };
    </script>
</body>
</html>
